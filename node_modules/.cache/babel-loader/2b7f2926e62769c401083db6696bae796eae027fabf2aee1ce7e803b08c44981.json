{"ast":null,"code":"import * as yup from 'yup';\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const getRules = getValues => ({\n  email: {\n    required: {\n      value: true,\n      message: 'Please enter email!'\n    },\n    pattern: {\n      value: /^[\\w-]+@([\\w-]+\\.)+[\\w-]{2,4}$/,\n      message: 'Invalid email!'\n    },\n    maxLength: {\n      value: 160,\n      message: 'Length is 5-160 characters'\n    },\n    minLength: {\n      value: 5,\n      message: 'Length is 5-160 characters'\n    }\n  },\n  password: {\n    required: {\n      value: true,\n      message: 'Please enter password!'\n    },\n    minLength: {\n      value: 6,\n      message: 'Length is 6-160 characters'\n    },\n    maxLength: {\n      value: 160,\n      message: 'Length is 6-160 characters'\n    }\n  },\n  confirm_password: {\n    required: {\n      value: true,\n      message: 'Please enter confirm password!'\n    },\n    minLength: {\n      value: 6,\n      message: 'Length is 6-160 characters'\n    },\n    maxLength: {\n      value: 160,\n      message: 'Length is 6-160 characters'\n    },\n    validate: typeof getValues === 'function' ? value => value === getValues('password') || 'Confirm password not match with password!' : undefined\n  }\n});\nconst handleConfirmPasswordYup = refString => {\n  return yup.string().required('Vui lòng nhập password!').min(5, 'Độ dài từ 5-160 ký tự').max(160, 'Đồ dài từ 5-160 ký tự').oneOf([yup.ref(refString)], 'Nhập lại mật khẩu không khớp!');\n};\nexport const schema = yup.object({\n  email: yup.string().required('Vui lòng nhập email!')\n  // .email('Invalid email!')\n  .matches(/^[\\w-]+@([\\w-]+\\.)+[\\w-]{2,4}$/, 'Email không hợp lệ!').min(5, 'Độ dài từ 5-160 ký tự').max(160, 'Độ dài từ 5-160 ký tự'),\n  password: yup.string().required('Vui lòng nhập password!').min(6, 'Độ dài từ 6-160 ký tự').max(160, 'Độ dài từ 6-160 ký tự'),\n  confirm_password: handleConfirmPasswordYup('password'),\n  price_min: yup.string().test({\n    name: 'price-not-allow',\n    message: 'Giá không hợp lệ',\n    test: function (value) {\n      const {\n        price_max\n      } = this.parent;\n      if (price_max !== '' && value !== '') {\n        return Number(price_max) >= Number(value);\n      }\n      return price_max !== '' || value !== '';\n    }\n  }),\n  price_max: yup.string().test({\n    name: 'price-not-allow',\n    message: 'Giá không phù hợp',\n    test: function (value) {\n      const {\n        price_min\n      } = this.parent;\n      if (price_min !== '' && value !== '') {\n        return Number(price_min) <= Number(value);\n      }\n      return price_min !== '' || value !== '';\n    }\n  }),\n  searchName: yup.string().trim().required('Not valid search name!')\n});\nexport const userSchema = yup.object({\n  name: yup.string().max(160, 'Đồ dài tối đa là 160 ký tự'),\n  phone: yup.string().max(20, 'Đồ dài tối đa là 20 ký tự'),\n  address: yup.string().max(20, 'Đồ dài tối đa là 160 ký tự'),\n  date_of_birth: yup.date().max(new Date(), 'Vui lòng chọn ngày trong quá khứ'),\n  avatar: yup.string().max(1000, 'Đồ dài tối đa là 1000 ký tự'),\n  password: schema.fields['password'],\n  new_password: schema.fields['password'],\n  confirm_password: handleConfirmPasswordYup('new_password')\n});","map":{"version":3,"names":["yup","getRules","getValues","email","required","value","message","pattern","maxLength","minLength","password","confirm_password","validate","undefined","handleConfirmPasswordYup","refString","string","min","max","oneOf","ref","schema","object","matches","price_min","test","name","price_max","parent","Number","searchName","trim","userSchema","phone","address","date_of_birth","date","Date","avatar","fields","new_password"],"sources":["D:/shopee_fe/src/utils/rules.ts"],"sourcesContent":["import { type RegisterOptions, UseFormGetValues } from 'react-hook-form';\nimport * as yup from 'yup';\n\ntype RulesType = { [key in 'email' | 'password' | 'confirm_password']?: RegisterOptions };\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nexport const getRules = (getValues?: UseFormGetValues<any>): RulesType => ({\n  email: {\n    required: {\n      value: true,\n      message: 'Please enter email!'\n    },\n    pattern: {\n      value: /^[\\w-]+@([\\w-]+\\.)+[\\w-]{2,4}$/,\n      message: 'Invalid email!'\n    },\n    maxLength: {\n      value: 160,\n      message: 'Length is 5-160 characters'\n    },\n    minLength: {\n      value: 5,\n      message: 'Length is 5-160 characters'\n    }\n  },\n  password: {\n    required: {\n      value: true,\n      message: 'Please enter password!'\n    },\n    minLength: {\n      value: 6,\n      message: 'Length is 6-160 characters'\n    },\n    maxLength: {\n      value: 160,\n      message: 'Length is 6-160 characters'\n    }\n  },\n  confirm_password: {\n    required: {\n      value: true,\n      message: 'Please enter confirm password!'\n    },\n    minLength: {\n      value: 6,\n      message: 'Length is 6-160 characters'\n    },\n    maxLength: {\n      value: 160,\n      message: 'Length is 6-160 characters'\n    },\n    validate:\n      typeof getValues === 'function'\n        ? (value) => value === getValues('password') || 'Confirm password not match with password!'\n        : undefined\n  }\n});\n\nconst handleConfirmPasswordYup = (refString: string) => {\n  return yup\n    .string()\n    .required('Vui lòng nhập password!')\n    .min(5, 'Độ dài từ 5-160 ký tự')\n    .max(160, 'Đồ dài từ 5-160 ký tự')\n    .oneOf([yup.ref(refString)], 'Nhập lại mật khẩu không khớp!');\n};\n\nexport const schema = yup.object({\n  email: yup\n    .string()\n    .required('Vui lòng nhập email!')\n    // .email('Invalid email!')\n    .matches(/^[\\w-]+@([\\w-]+\\.)+[\\w-]{2,4}$/, 'Email không hợp lệ!')\n    .min(5, 'Độ dài từ 5-160 ký tự')\n    .max(160, 'Độ dài từ 5-160 ký tự'),\n  password: yup\n    .string()\n    .required('Vui lòng nhập password!')\n    .min(6, 'Độ dài từ 6-160 ký tự')\n    .max(160, 'Độ dài từ 6-160 ký tự'),\n  confirm_password: handleConfirmPasswordYup('password'),\n  price_min: yup.string().test({\n    name: 'price-not-allow',\n    message: 'Giá không hợp lệ',\n    test: function (value) {\n      const { price_max } = this.parent as { price_min: string; price_max: string };\n\n      if (price_max !== '' && value !== '') {\n        return Number(price_max) >= Number(value);\n      }\n\n      return price_max !== '' || value !== '';\n    }\n  }),\n  price_max: yup.string().test({\n    name: 'price-not-allow',\n    message: 'Giá không phù hợp',\n    test: function (value) {\n      const { price_min } = this.parent as { price_min: string; price_max: string };\n\n      if (price_min !== '' && value !== '') {\n        return Number(price_min) <= Number(value);\n      }\n\n      return price_min !== '' || value !== '';\n    }\n  }),\n  searchName: yup.string().trim().required('Not valid search name!')\n});\n\nexport const userSchema = yup.object({\n  name: yup.string().max(160, 'Đồ dài tối đa là 160 ký tự'),\n  phone: yup.string().max(20, 'Đồ dài tối đa là 20 ký tự'),\n  address: yup.string().max(20, 'Đồ dài tối đa là 160 ký tự'),\n  date_of_birth: yup.date().max(new Date(), 'Vui lòng chọn ngày trong quá khứ'),\n  avatar: yup.string().max(1000, 'Đồ dài tối đa là 1000 ký tự'),\n  password: schema.fields['password'] as yup.StringSchema<string | undefined, yup.AnyObject, undefined, ''>,\n  new_password: schema.fields['password'] as yup.StringSchema<string | undefined, yup.AnyObject, undefined, ''>,\n  confirm_password: handleConfirmPasswordYup('new_password') as yup.StringSchema<\n    string | undefined,\n    yup.AnyObject,\n    undefined,\n    ''\n  >\n});\n\nexport type UserSchema = yup.InferType<typeof userSchema>;\n\nexport type Schema = yup.InferType<typeof schema>;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}