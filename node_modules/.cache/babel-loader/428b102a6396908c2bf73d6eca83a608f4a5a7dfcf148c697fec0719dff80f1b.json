{"ast":null,"code":"var _jsxFileName = \"D:\\\\shopee_fe\\\\src\\\\pages\\\\ProductDetail\\\\ProductDetail.tsx\",\n  _s = $RefreshSig$();\nimport { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport DOMPurify from 'dompurify';\nimport { useEffect, useMemo, useRef, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { productApi } from 'src/api/product.api';\nimport { purchasesApi } from 'src/api/purchases.api';\nimport ToastSuccess from 'src/components/CustomToast/ToastSuccess';\nimport ProductRating from 'src/components/ProductRating';\nimport QuantityController from 'src/components/QuantityController';\nimport { path } from 'src/constants/path';\nimport { purchasesStatus } from 'src/constants/purchases';\nimport { formatCurrency, formatNumberToSocialStyle, getIdFromNameId, saleRate } from 'src/utils/utils';\nimport Product from '../ProductList/components/Product';\nimport { useTranslation } from 'react-i18next';\nimport { Helmet } from 'react-helmet-async';\nimport { convert } from 'html-to-text';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ProductDetail() {\n  _s();\n  const {\n    t\n  } = useTranslation('product');\n  const {\n    nameId\n  } = useParams();\n  const navigate = useNavigate();\n  const id = getIdFromNameId(nameId);\n  const queryClient = useQueryClient();\n  const {\n    data: productDetailData\n  } = useQuery({\n    queryKey: ['product', id],\n    queryFn: () => {\n      return productApi.getProduct(id);\n    }\n  });\n  const [role, setRole] = useState(0);\n  let cfm,\n    btn = \"\";\n  const [showToastSuccess, setShowToastSuccess] = useState(false);\n  const [buyCount, setBuyCount] = useState(1);\n  const product = productDetailData === null || productDetailData === void 0 ? void 0 : productDetailData.data.data;\n  const queryConfig = {\n    page: '1',\n    limit: '20',\n    category: product === null || product === void 0 ? void 0 : product.category._id\n  };\n  const {\n    data: productList\n  } = useQuery({\n    queryKey: ['productListCategory', queryConfig],\n    queryFn: () => {\n      return productApi.getProductList(queryConfig);\n    },\n    enabled: Boolean(product)\n  });\n  const imageRef = useRef(null);\n  const [currentImagesIndex, setCurrentImageIndex] = useState([0, 5]);\n  const [imageActived, setImageActived] = useState('');\n  const currentImagesList = useMemo(() => {\n    return product === null || product === void 0 ? void 0 : product.images.slice(...currentImagesIndex);\n  }, [product, currentImagesIndex]);\n  if (role != 0) {\n    cfm = \"mua ngay\";\n    btn = \"thêm vào giỏ hàng\";\n  } else {\n    cfm = \"lưu\";\n    btn = \"sửa\";\n  }\n  const addToCartMutation = useMutation({\n    mutationFn: body => {\n      return purchasesApi.addToCart(body);\n    }\n  });\n  useEffect(() => {\n    if (product && product.images.length) {\n      setImageActived(product.images[0]);\n    }\n  }, [product]);\n  const activeImage = img => {\n    setImageActived(img);\n  };\n  const prevSlice = () => {\n    if (currentImagesIndex[0] <= 0) return;\n    setCurrentImageIndex(prev => [prev[0] - 1, prev[1] - 1]);\n  };\n  const nextSlice = () => {\n    if (currentImagesIndex[1] >= (product === null || product === void 0 ? void 0 : product.images.length)) return;\n    setCurrentImageIndex(prev => [prev[0] + 1, prev[1] + 1]);\n  };\n  const handleImageZoom = event => {\n    const rect = event.currentTarget.getBoundingClientRect();\n    const image = imageRef.current;\n    const {\n      naturalWidth,\n      naturalHeight\n    } = image;\n\n    //Cách 1: Lấy offsetX và offsetY đơn giản trong trường hợp xử lý được bubble event\n    // const { offsetX, offsetY } = event.nativeEvent;\n\n    //Cách 2: Tính toán offsetX và offsetY trong trường hợp không xử lý được bubble event đối với element con, ví dụ trường hợp element con là một component được import bên ngoài vào element cha\n\n    const offsetX = event.pageX - (rect.x + window.scrollX);\n    const offsetY = event.pageY - (rect.y + window.scrollY);\n    const top = offsetY * (1 - naturalHeight / rect.height);\n    const left = offsetX * (1 - naturalWidth / rect.width);\n    image.style.width = naturalWidth + 'px';\n    image.style.height = naturalHeight + 'px';\n    image.style.maxWidth = 'unset';\n    image.style.top = top + 'px';\n    image.style.left = left + 'px';\n  };\n  const handleRemoveZoom = () => {\n    var _imageRef$current;\n    (_imageRef$current = imageRef.current) === null || _imageRef$current === void 0 ? void 0 : _imageRef$current.removeAttribute('style');\n  };\n\n  // todo: thay đổi số lượng mua\n  const handleChangeQuantity = value => {\n    setBuyCount(value);\n  };\n\n  // todo thêm vào giỏ hàng\n  const handleAddToCart = body => {\n    addToCartMutation.mutate(body, {\n      onSuccess: () => {\n        // toast.success('Thêm vào giỏ hàng thành công', { autoClose: 1000 });\n        // customToast.renderToastSuccess({ duration: 1000 });\n        setShowToastSuccess(true);\n        queryClient.invalidateQueries({\n          queryKey: ['purchasesCart', {\n            status: purchasesStatus.inCart\n          }]\n        });\n      }\n    });\n  };\n  // Todo: nút mua ngay\n  const buyNow = async body => {\n    const res = await addToCartMutation.mutateAsync(body);\n    const purchase = res.data.data;\n    navigate(path.cart, {\n      state: {\n        purchaseId: purchase._id\n      }\n    });\n  };\n  if (!product) return null;\n  return (\n    /*#__PURE__*/\n    // Todo: giao diện chi tiết sản phẩm\n    _jsxDEV(\"div\", {\n      className: \"relative bg-gray-100 py-3\",\n      children: [/*#__PURE__*/_jsxDEV(Helmet, {\n        children: [/*#__PURE__*/_jsxDEV(\"title\", {\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n          name: \"description\",\n          content: convert(product.description || '', {\n            limits: {\n              maxInputLength: 200\n            }\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container bg-white shadow\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-12 gap-9\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-5\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative w-full cursor-zoom-in overflow-hidden pt-[100%] shadow\",\n              onMouseMove: handleImageZoom,\n              onMouseLeave: handleRemoveZoom,\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: imageActived,\n                alt: product.name,\n                className: \"absolute left-0 top-0 h-full w-full  bg-white object-cover\",\n                ref: imageRef\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 15\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative mt-4 grid w-full grid-cols-5 gap-5\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: prevSlice,\n                className: \"absolute left-0 top-1/2 z-10 h-9 w-5 -translate-y-1/2 bg-gray-200/60 font-semibold text-white\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  fill: \"none\",\n                  viewBox: \"0 0 24 24\",\n                  strokeWidth: \"{1.5}\",\n                  stroke: \"currentColor\",\n                  className: \"h-6 w-6\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    d: \"M15.75 19.5L8.25 12l7.5-7.5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 201,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 15\n              }, this), currentImagesList.map(image => {\n                const isActive = image === imageActived;\n                return /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"relative w-full cursor-pointer pt-[100%]\",\n                  onMouseEnter: () => activeImage(image),\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    src: image,\n                    alt: image,\n                    className: \"absolute left-0 top-0 w-full object-contain\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 214,\n                    columnNumber: 21\n                  }, this), isActive && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"absolute left-0 top-0 h-full w-full border border-orange bg-transparent\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 216,\n                    columnNumber: 23\n                  }, this)]\n                }, image, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 209,\n                  columnNumber: 19\n                }, this);\n              }), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: nextSlice,\n                className: \"absolute right-0 top-1/2 z-10 h-9 w-5 -translate-y-1/2 bg-gray-200/60 font-semibold text-white\",\n                children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  fill: \"none\",\n                  viewBox: \"0 0 24 24\",\n                  strokeWidth: \"{1.5}\",\n                  stroke: \"currentColor\",\n                  className: \"h-6 w-6\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    d: \"M8.25 4.5l7.5 7.5-7.5 7.5\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 234,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 226,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 188,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-span-7\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"text-xl font-medium uppercase\",\n              children: role === 1 ? /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: product.name,\n                style: {\n                  width: '600px',\n                  border: '1px solid '\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 19\n              }, this) : role === 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-xl font-medium uppercase\",\n                children: product.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 19\n              }, this) : product.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"my-4 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center gap-1\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"mt-1 text-orange underline\",\n                  children: product.rating\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(ProductRating, {\n                  rating: product.rating,\n                  classNameStartFilled: \"h-4 w-4 fill-orange text-orange\",\n                  classNameNonStartFilled: \"h-4 w-4 fill-current text-gray-300\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 252,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"mx-4 h-6 w-[1px] bg-gray-300\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 261,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: formatNumberToSocialStyle(product.sold)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"ml-1 text-sm capitalize text-gray-500\",\n                  children: t('sold')\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center bg-gray-100 px-6 py-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-gray-500 line-through\",\n                children: [\"\\u20AB\",\n                //formatCurrency(product.price_before_discount)\n\n                role === 1 ? /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  placeholder: formatCurrency(product.price_before_discount),\n                  style: {\n                    width: '100px',\n                    border: '1px solid '\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 19\n                }, this) : role === 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xl font-medium uppercase\",\n                  children: product.price_before_discount\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 19\n                }, this) : product.price_before_discount]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ml-3 text-3xl text-orange\",\n                children: [\"\\u20AB\",\n                //formatCurrency(product.price)\n                role === 1 ? /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  placeholder: formatCurrency(product.price),\n                  style: {\n                    width: '200px',\n                    border: '1px solid '\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 285,\n                  columnNumber: 17\n                }, this) : role === 0 ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xl font-medium uppercase\",\n                  children: product.price\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 288,\n                  columnNumber: 17\n                }, this) : product.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ml-5 rounded-sm bg-orange px-1 text-sm font-semibold uppercase text-white\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: [saleRate(product.price_before_discount, product.price), \" \"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 17\n                }, this), t('off')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-6 flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"capitalize text-gray-500\",\n                children: t('quantity')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(QuantityController, {\n                onDecrease: handleChangeQuantity,\n                onIncrease: handleChangeQuantity,\n                onType: handleChangeQuantity,\n                value: buyCount,\n                max: product.quantity\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"ml-5 text-gray-500\",\n                children: [\n                //product.quantity\n                role === 0 ? /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  placeholder: formatCurrency(product.quantity),\n                  style: {\n                    width: '100px',\n                    border: '1px solid '\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 19\n                }, this) : role === 1 ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-xl font-medium uppercase\",\n                  children: product.quantity\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 19\n                }, this) : product.quantity, \" \", t('pieces available')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-6 flex items-center gap-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  if (role == 1) {\n                    handleAddToCart({\n                      product_id: id,\n                      buy_count: buyCount\n                    });\n                  }\n                },\n                className: \"flex-items-center flex gap-2 rounded-sm border border-orange bg-orange/10 px-5 py-3 capitalize text-orange hover:bg-orange/20\",\n                children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n                  xmlns: \"http://www.w3.org/2000/svg\",\n                  fill: \"none\",\n                  viewBox: \"0 0 24 24\",\n                  strokeWidth: \"{1.5}\",\n                  stroke: \"currentColor\",\n                  className: \"h-5 w-5\",\n                  children: /*#__PURE__*/_jsxDEV(\"path\", {\n                    strokeLinecap: \"round\",\n                    strokeLinejoin: \"round\",\n                    d: \"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 339,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 17\n                }, this), btn]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  if (role == 1) {\n                    buyNow({\n                      product_id: id,\n                      buy_count: buyCount\n                    });\n                  }\n                },\n                className: \"rounded-sm bg-orange px-5 py-3 capitalize text-white hover:bg-orange/80\",\n                children: cfm\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 348,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mt-4 bg-white\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-100/40 p-3 text-lg uppercase\",\n          children: t('product description')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 363,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-3 text-sm leading-loose\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            dangerouslySetInnerHTML: {\n              __html: DOMPurify.sanitize(product.description)\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container mt-4\",\n        children: productList && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"uppercase text-gray-500\",\n            children: t('you may also like')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-8 grid grid-cols-2 gap-4 sm:grid-cols-3 lg:grid-cols-5 xl:grid-cols-6\",\n            children: productList.data.data.products.map(product => /*#__PURE__*/_jsxDEV(Product, {\n              product: product\n            }, product._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 371,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 369,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ToastSuccess, {\n        setShow: setShowToastSuccess,\n        show: showToastSuccess,\n        message: \"S\\u1EA3n ph\\u1EA9m \\u0111\\xE3 \\u0111\\u01B0\\u1EE3c th\\xEAm v\\xE0o Gi\\u1ECF h\\xE0ng\",\n        duration: 1500\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 382,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 5\n    }, this)\n  );\n}\n_s(ProductDetail, \"WBCrtWS+sT8cN8XseKTdU2211t8=\", false, function () {\n  return [useTranslation, useParams, useNavigate, useQueryClient, useQuery, useQuery, useMutation];\n});\n_c = ProductDetail;\nvar _c;\n$RefreshReg$(_c, \"ProductDetail\");","map":{"version":3,"names":["useMutation","useQuery","useQueryClient","DOMPurify","useEffect","useMemo","useRef","useState","useNavigate","useParams","productApi","purchasesApi","ToastSuccess","ProductRating","QuantityController","path","purchasesStatus","formatCurrency","formatNumberToSocialStyle","getIdFromNameId","saleRate","Product","useTranslation","Helmet","convert","jsxDEV","_jsxDEV","ProductDetail","_s","t","nameId","navigate","id","queryClient","data","productDetailData","queryKey","queryFn","getProduct","role","setRole","cfm","btn","showToastSuccess","setShowToastSuccess","buyCount","setBuyCount","product","queryConfig","page","limit","category","_id","productList","getProductList","enabled","Boolean","imageRef","currentImagesIndex","setCurrentImageIndex","imageActived","setImageActived","currentImagesList","images","slice","addToCartMutation","mutationFn","body","addToCart","length","activeImage","img","prevSlice","prev","nextSlice","handleImageZoom","event","rect","currentTarget","getBoundingClientRect","image","current","naturalWidth","naturalHeight","offsetX","pageX","x","window","scrollX","offsetY","pageY","y","scrollY","top","height","left","width","style","maxWidth","handleRemoveZoom","_imageRef$current","removeAttribute","handleChangeQuantity","value","handleAddToCart","mutate","onSuccess","invalidateQueries","status","inCart","buyNow","res","mutateAsync","purchase","cart","state","purchaseId","className","children","name","fileName","_jsxFileName","lineNumber","columnNumber","content","description","limits","maxInputLength","onMouseMove","onMouseLeave","src","alt","ref","onClick","xmlns","fill","viewBox","strokeWidth","stroke","strokeLinecap","strokeLinejoin","d","map","isActive","onMouseEnter","type","placeholder","border","rating","classNameStartFilled","classNameNonStartFilled","sold","price_before_discount","price","onDecrease","onIncrease","onType","max","quantity","product_id","buy_count","dangerouslySetInnerHTML","__html","sanitize","products","setShow","show","message","duration","_c","$RefreshReg$"],"sources":["D:/shopee_fe/src/pages/ProductDetail/ProductDetail.tsx"],"sourcesContent":["import { useMutation, useQuery, useQueryClient } from '@tanstack/react-query';\nimport DOMPurify from 'dompurify';\nimport { useEffect, useMemo, useRef, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { productApi } from 'src/api/product.api';\nimport { purchasesApi } from 'src/api/purchases.api';\nimport ToastSuccess from 'src/components/CustomToast/ToastSuccess';\nimport ProductRating from 'src/components/ProductRating';\nimport QuantityController from 'src/components/QuantityController';\nimport { path } from 'src/constants/path';\nimport { purchasesStatus } from 'src/constants/purchases';\nimport { ProductListConfig, Product as ProductType } from 'src/@types/product.type';\nimport { ProductCart } from 'src/@types/purchases.type';\nimport { formatCurrency, formatNumberToSocialStyle, getIdFromNameId, saleRate } from 'src/utils/utils';\nimport Product from '../ProductList/components/Product';\nimport { useTranslation } from 'react-i18next';\nimport { Helmet } from 'react-helmet-async';\nimport { convert } from 'html-to-text';\n\nexport default function ProductDetail() {\n  const { t } = useTranslation('product');\n  const { nameId } = useParams();\n  const navigate = useNavigate();\n  const id = getIdFromNameId(nameId as string);\n  const queryClient = useQueryClient();\n  const { data: productDetailData } = useQuery({\n    queryKey: ['product', id],\n    queryFn: () => {\n      return productApi.getProduct(id as string);\n    }\n  });\n\n  const [role, setRole] = useState<number>(0);\n  let cfm, btn = \"\";\n\n  const [showToastSuccess, setShowToastSuccess] = useState(false);\n\n  const [buyCount, setBuyCount] = useState(1);\n\n  const product = productDetailData?.data.data;\n\n  const queryConfig: ProductListConfig = { page: '1', limit: '20', category: product?.category._id };\n\n  const { data: productList } = useQuery({\n    queryKey: ['productListCategory', queryConfig],\n    queryFn: () => {\n      return productApi.getProductList(queryConfig);\n    },\n    enabled: Boolean(product)\n  });\n\n  const imageRef = useRef<HTMLImageElement>(null);\n\n  const [currentImagesIndex, setCurrentImageIndex] = useState([0, 5]);\n\n  const [imageActived, setImageActived] = useState('');\n\n  const currentImagesList = useMemo(() => {\n    return (product as ProductType)?.images.slice(...currentImagesIndex);\n  }, [product, currentImagesIndex]);\n\n  if (role != 0){\n    cfm = \"mua ngay\";\n    btn = \"thêm vào giỏ hàng\";\n  }\n  else {\n    cfm = \"lưu\";\n    btn = \"sửa\";\n  }\n\n  const addToCartMutation = useMutation({\n    mutationFn: (body: ProductCart) => {\n      return purchasesApi.addToCart(body);\n    }\n  });\n\n  useEffect(() => {\n    if (product && product.images.length) {\n      setImageActived(product.images[0]);\n    }\n  }, [product]);\n\n  const activeImage = (img: string) => {\n    setImageActived(img);\n  };\n\n  const prevSlice = () => {\n    if (currentImagesIndex[0] <= 0) return;\n\n    setCurrentImageIndex((prev) => [prev[0] - 1, prev[1] - 1]);\n  };\n\n  const nextSlice = () => {\n    if (currentImagesIndex[1] >= (product as ProductType)?.images.length) return;\n\n    setCurrentImageIndex((prev) => [prev[0] + 1, prev[1] + 1]);\n  };\n\n  const handleImageZoom = (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => {\n    const rect = event.currentTarget.getBoundingClientRect();\n\n    const image = imageRef.current as HTMLImageElement;\n    const { naturalWidth, naturalHeight } = image;\n\n    //Cách 1: Lấy offsetX và offsetY đơn giản trong trường hợp xử lý được bubble event\n    // const { offsetX, offsetY } = event.nativeEvent;\n\n    //Cách 2: Tính toán offsetX và offsetY trong trường hợp không xử lý được bubble event đối với element con, ví dụ trường hợp element con là một component được import bên ngoài vào element cha\n\n    const offsetX = event.pageX - (rect.x + window.scrollX);\n    const offsetY = event.pageY - (rect.y + window.scrollY);\n\n    const top = offsetY * (1 - naturalHeight / rect.height);\n    const left = offsetX * (1 - naturalWidth / rect.width);\n\n    image.style.width = naturalWidth + 'px';\n    image.style.height = naturalHeight + 'px';\n    image.style.maxWidth = 'unset';\n    image.style.top = top + 'px';\n    image.style.left = left + 'px';\n  };\n\n  const handleRemoveZoom = () => {\n    imageRef.current?.removeAttribute('style');\n  };\n\n  // todo: thay đổi số lượng mua\n  const handleChangeQuantity = (value: number) => {\n    setBuyCount(value);\n  };\n\n  // todo thêm vào giỏ hàng\n  const handleAddToCart = (body: ProductCart) => {\n    addToCartMutation.mutate(body, {\n      onSuccess: () => {\n        // toast.success('Thêm vào giỏ hàng thành công', { autoClose: 1000 });\n        // customToast.renderToastSuccess({ duration: 1000 });\n        setShowToastSuccess(true);\n        queryClient.invalidateQueries({ queryKey: ['purchasesCart', { status: purchasesStatus.inCart }] });\n      }\n    });\n  };\n// Todo: nút mua ngay\n  const buyNow = async (body: ProductCart) => {\n    const res = await addToCartMutation.mutateAsync(body);\n    const purchase = res.data.data;\n\n    navigate(path.cart, {\n      state: {\n        purchaseId: purchase._id\n      }\n    });\n  };\n\n  if (!product) return null;\n\n  return (\n    // Todo: giao diện chi tiết sản phẩm\n    <div className='relative bg-gray-100 py-3'>\n      <Helmet>\n        <title>{product.name}</title>\n        <meta\n          name='description'\n          content={convert(product.description || '', {\n            limits: {\n              maxInputLength: 200\n            }\n          })}\n        />\n      </Helmet>\n\n      <div className='container bg-white shadow'>\n        <div className='grid grid-cols-12 gap-9'>\n          <div className='col-span-5'>\n            <div\n              className='relative w-full cursor-zoom-in overflow-hidden pt-[100%] shadow'\n              onMouseMove={handleImageZoom}\n              onMouseLeave={handleRemoveZoom}\n            >\n              <img\n                src={imageActived}\n                alt={product.name}\n                className='absolute left-0 top-0 h-full w-full  bg-white object-cover'\n                ref={imageRef}\n              />\n            </div>\n\n            <div className='relative mt-4 grid w-full grid-cols-5 gap-5'>\n              <button\n                onClick={prevSlice}\n                className='absolute left-0 top-1/2 z-10 h-9 w-5 -translate-y-1/2 bg-gray-200/60 font-semibold text-white'\n              >\n                <svg\n                  xmlns='http://www.w3.org/2000/svg'\n                  fill='none'\n                  viewBox='0 0 24 24'\n                  strokeWidth='{1.5}'\n                  stroke='currentColor'\n                  className='h-6 w-6'\n                >\n                  <path strokeLinecap='round' strokeLinejoin='round' d='M15.75 19.5L8.25 12l7.5-7.5' />\n                </svg>\n              </button>\n\n              {currentImagesList.map((image) => {\n                const isActive = image === imageActived;\n\n                return (\n                  <div\n                    className='relative w-full cursor-pointer pt-[100%]'\n                    key={image}\n                    onMouseEnter={() => activeImage(image)}\n                  >\n                    <img src={image} alt={image} className='absolute left-0 top-0 w-full object-contain' />\n                    {isActive && (\n                      <div className='absolute left-0 top-0 h-full w-full border border-orange bg-transparent' />\n                    )}\n                  </div>\n                );\n              })}\n\n              <button\n                onClick={nextSlice}\n                className='absolute right-0 top-1/2 z-10 h-9 w-5 -translate-y-1/2 bg-gray-200/60 font-semibold text-white'\n              >\n                <svg\n                  xmlns='http://www.w3.org/2000/svg'\n                  fill='none'\n                  viewBox='0 0 24 24'\n                  strokeWidth='{1.5}'\n                  stroke='currentColor'\n                  className='h-6 w-6'\n                >\n                  <path strokeLinecap='round' strokeLinejoin='round' d='M8.25 4.5l7.5 7.5-7.5 7.5' />\n                </svg>\n              </button>\n            </div>\n          </div>\n\n          <div className='col-span-7'>\n            <h1 className='text-xl font-medium uppercase'>\n              {\n                role === 1?(\n                  <input type=\"text\" placeholder={product.name} style={{width: '600px', border: '1px solid '}}/>\n                )\n                : role === 0?(\n                  <span className='text-xl font-medium uppercase'>{product.name}</span>\n                ) : product.name\n              }\n            </h1>\n            <div className='my-4 flex items-center'>\n              <div className='flex items-center gap-1'>\n                <span className='mt-1 text-orange underline'>{product.rating}</span>\n                <ProductRating\n                  rating={product.rating}\n                  classNameStartFilled='h-4 w-4 fill-orange text-orange'\n                  classNameNonStartFilled='h-4 w-4 fill-current text-gray-300'\n                />\n              </div>\n\n              <div className='mx-4 h-6 w-[1px] bg-gray-300' />\n\n              <div>\n                <span>{formatNumberToSocialStyle(product.sold)}</span>\n                <span className='ml-1 text-sm capitalize text-gray-500'>{t('sold')}</span>\n              </div>\n            </div>\n\n            <div className='flex items-center bg-gray-100 px-6 py-4'>\n              <span className='text-gray-500 line-through'>₫{\n              //formatCurrency(product.price_before_discount)\n\n                role === 1?(\n                  <input type=\"text\" placeholder={formatCurrency(product.price_before_discount)} style={{width: '100px', border: '1px solid '}}/>\n                )\n                : role === 0?(\n                  <span className='text-xl font-medium uppercase'>{product.price_before_discount}</span>\n                ) : product.price_before_discount\n\n              }</span>\n\n              <div className='ml-3 text-3xl text-orange'>₫{\n              //formatCurrency(product.price)\n              role === 1?(\n                <input type=\"text\" placeholder={formatCurrency(product.price)} style={{width: '200px', border: '1px solid '}}/>\n              )\n              : role === 0?(\n                <span className='text-xl font-medium uppercase'>{product.price}</span>\n              ) : product.price\n              }</div>\n\n              <div className='ml-5 rounded-sm bg-orange px-1 text-sm font-semibold uppercase text-white'>\n                <span>{saleRate(product.price_before_discount, product.price)} </span>\n                {t('off')}\n              </div>\n            </div>\n\n            <div className='mt-6 flex items-center'>\n              <span className='capitalize text-gray-500'>{t('quantity')}</span>\n\n              <QuantityController\n                onDecrease={handleChangeQuantity}\n                onIncrease={handleChangeQuantity}\n                onType={handleChangeQuantity}\n                value={buyCount}\n                max={product.quantity}\n              />\n\n              <span className='ml-5 text-gray-500'>\n                {\n                //product.quantity\n                role === 0?(\n                  <input type=\"text\" placeholder={formatCurrency(product.quantity)} style={{width: '100px', border: '1px solid '}}/>\n                )\n                : role === 1?(\n                  <span className='text-xl font-medium uppercase'>{product.quantity}</span>\n                ) : product.quantity\n                } {t('pieces available')}\n              </span>\n            </div>\n\n            <div className='mt-6 flex items-center gap-4'>\n              <button\n                onClick={() => {\n                  if (role == 1){\n                    handleAddToCart({ product_id: id, buy_count: buyCount });\n                  }\n                }}\n                className='flex-items-center flex gap-2 rounded-sm border border-orange bg-orange/10 px-5 py-3 capitalize text-orange hover:bg-orange/20'\n              >\n                <svg\n                  xmlns='http://www.w3.org/2000/svg'\n                  fill='none'\n                  viewBox='0 0 24 24'\n                  strokeWidth='{1.5}'\n                  stroke='currentColor'\n                  className='h-5 w-5'\n                >\n                  <path\n                    strokeLinecap='round'\n                    strokeLinejoin='round'\n                    d='M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 00-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 00-16.536-1.84M7.5 14.25L5.106 5.272M6 20.25a.75.75 0 11-1.5 0 .75.75 0 011.5 0zm12.75 0a.75.75 0 11-1.5 0 .75.75 0 011.5 0z'\n                  />\n                </svg>\n                {btn}\n              </button>\n{/* nut mua ngay */}\n              <button\n                onClick={() => {\n                  if (role == 1){\n                    buyNow({ product_id: id, buy_count: buyCount });\n                  }\n                }}\n                className='rounded-sm bg-orange px-5 py-3 capitalize text-white hover:bg-orange/80'\n              >\n                {cfm}\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div className='container mt-4 bg-white'>\n        <div className='bg-gray-100/40 p-3 text-lg uppercase'>{t('product description')}</div>\n\n        <div className='p-3 text-sm leading-loose'>\n          <div dangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(product.description as string) }} />\n        </div>\n      </div>\n      <div className='container mt-4'>\n        {productList && (\n          <div>\n            <div className='uppercase text-gray-500'>{t('you may also like')}</div>\n            <div className='mt-8 grid grid-cols-2 gap-4 sm:grid-cols-3 lg:grid-cols-5 xl:grid-cols-6'>\n              {productList.data.data.products.map((product) => (\n                <Product key={product._id} product={product} />\n              ))}\n            </div>\n          </div>\n        )}\n      </div>\n\n      <ToastSuccess\n        setShow={setShowToastSuccess}\n        show={showToastSuccess}\n        message='Sản phẩm đã được thêm vào Giỏ hàng'\n        duration={1500}\n      />\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}