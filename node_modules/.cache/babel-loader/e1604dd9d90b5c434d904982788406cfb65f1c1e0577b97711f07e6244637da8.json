{"ast":null,"code":"var _jsxFileName = \"D:\\\\shopee_fe\\\\src\\\\components\\\\Form\\\\InputV2\\\\InputV2.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { useController } from 'react-hook-form';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction InputV2(props) {\n  _s();\n  var _fieldState$error;\n  const {\n    classNameInput = 'w-full rounded-sm border border-gray-300 p-3 shadow-sm outline-none focus:border-gray-500',\n    classNameError = 'mt-1 min-h-[1.25rem] text-red-500',\n    className,\n    onChange,\n    type,\n    ...rest\n  } = props;\n  const {\n    field,\n    fieldState\n  } = useController(props);\n  const [localValue, setLocalValue] = useState(field.value);\n  const handleChange = event => {\n    const valueFromInput = event.target.value;\n    const numberCondition = type === 'number' && (/^\\d+$/.test(valueFromInput) || valueFromInput === '');\n    if (type !== 'number' || numberCondition) {\n      //Cập nhật localValue\n      setLocalValue(valueFromInput);\n\n      //Thực thi onChange của react hook form\n      field.onChange(event);\n\n      //Thực thi onChange callback từ bên ngoài  truyền vào props\n      onChange && onChange(event);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: className,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        className: classNameInput,\n        ...rest,\n        ...field,\n        ref: field.ref,\n        onChange: handleChange,\n        value: field.value || localValue\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classNameError,\n        children: (_fieldState$error = fieldState.error) === null || _fieldState$error === void 0 ? void 0 : _fieldState$error.message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n_s(InputV2, \"GnmuBfYfS7ZZIwdZyZQ7pFHdO3o=\", false, function () {\n  return [useController];\n});\n_c = InputV2;\nexport default InputV2;\nvar _c;\n$RefreshReg$(_c, \"InputV2\");","map":{"version":3,"names":["React","useState","useController","jsxDEV","_jsxDEV","InputV2","props","_s","_fieldState$error","classNameInput","classNameError","className","onChange","type","rest","field","fieldState","localValue","setLocalValue","value","handleChange","event","valueFromInput","target","numberCondition","test","Fragment","children","ref","fileName","_jsxFileName","lineNumber","columnNumber","error","message","_c","$RefreshReg$"],"sources":["D:/shopee_fe/src/components/Form/InputV2/InputV2.tsx"],"sourcesContent":["import React, { InputHTMLAttributes, useState } from 'react';\nimport { FieldPath, FieldValues, UseControllerProps, useController } from 'react-hook-form';\n\nexport interface InputNumberProps extends InputHTMLAttributes<HTMLInputElement> {\n  classNameInput?: string;\n  classNameError?: string;\n}\n\nfunction InputV2<TFieldValues extends FieldValues, TName extends FieldPath<TFieldValues>>(\n  props: UseControllerProps<TFieldValues, TName> & InputNumberProps\n) {\n  const {\n    classNameInput = 'w-full rounded-sm border border-gray-300 p-3 shadow-sm outline-none focus:border-gray-500',\n    classNameError = 'mt-1 min-h-[1.25rem] text-red-500',\n    className,\n    onChange,\n    type,\n    ...rest\n  } = props;\n\n  const { field, fieldState } = useController(props);\n\n  const [localValue, setLocalValue] = useState<string>(field.value);\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const valueFromInput = event.target.value;\n\n    const numberCondition = type === 'number' && (/^\\d+$/.test(valueFromInput) || valueFromInput === '');\n\n    if (type !== 'number' || numberCondition) {\n      //Cập nhật localValue\n      setLocalValue(valueFromInput);\n\n      //Thực thi onChange của react hook form\n      field.onChange(event);\n\n      //Thực thi onChange callback từ bên ngoài  truyền vào props\n      onChange && onChange(event);\n    }\n  };\n\n  return (\n    <React.Fragment>\n      <div className={className}>\n        <input\n          className={classNameInput}\n          {...rest}\n          {...field}\n          ref={field.ref}\n          onChange={handleChange}\n          value={field.value || localValue}\n        />\n\n        <div className={classNameError}>{fieldState.error?.message}</div>\n      </div>\n    </React.Fragment>\n  );\n}\n\nexport default InputV2;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAyBC,QAAQ,QAAQ,OAAO;AAC5D,SAAqDC,aAAa,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAO5F,SAASC,OAAOA,CACdC,KAAiE,EACjE;EAAAC,EAAA;EAAA,IAAAC,iBAAA;EACA,MAAM;IACJC,cAAc,GAAG,2FAA2F;IAC5GC,cAAc,GAAG,mCAAmC;IACpDC,SAAS;IACTC,QAAQ;IACRC,IAAI;IACJ,GAAGC;EACL,CAAC,GAAGR,KAAK;EAET,MAAM;IAAES,KAAK;IAAEC;EAAW,CAAC,GAAGd,aAAa,CAACI,KAAK,CAAC;EAElD,MAAM,CAACW,UAAU,EAAEC,aAAa,CAAC,GAAGjB,QAAQ,CAASc,KAAK,CAACI,KAAK,CAAC;EAEjE,MAAMC,YAAY,GAAIC,KAA0C,IAAK;IACnE,MAAMC,cAAc,GAAGD,KAAK,CAACE,MAAM,CAACJ,KAAK;IAEzC,MAAMK,eAAe,GAAGX,IAAI,KAAK,QAAQ,KAAK,OAAO,CAACY,IAAI,CAACH,cAAc,CAAC,IAAIA,cAAc,KAAK,EAAE,CAAC;IAEpG,IAAIT,IAAI,KAAK,QAAQ,IAAIW,eAAe,EAAE;MACxC;MACAN,aAAa,CAACI,cAAc,CAAC;;MAE7B;MACAP,KAAK,CAACH,QAAQ,CAACS,KAAK,CAAC;;MAErB;MACAT,QAAQ,IAAIA,QAAQ,CAACS,KAAK,CAAC;IAC7B;EACF,CAAC;EAED,oBACEjB,OAAA,CAACJ,KAAK,CAAC0B,QAAQ;IAAAC,QAAA,eACbvB,OAAA;MAAKO,SAAS,EAAEA,SAAU;MAAAgB,QAAA,gBACxBvB,OAAA;QACEO,SAAS,EAAEF,cAAe;QAAA,GACtBK,IAAI;QAAA,GACJC,KAAK;QACTa,GAAG,EAAEb,KAAK,CAACa,GAAI;QACfhB,QAAQ,EAAEQ,YAAa;QACvBD,KAAK,EAAEJ,KAAK,CAACI,KAAK,IAAIF;MAAW;QAAAY,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClC,CAAC,eAEF5B,OAAA;QAAKO,SAAS,EAAED,cAAe;QAAAiB,QAAA,GAAAnB,iBAAA,GAAEQ,UAAU,CAACiB,KAAK,cAAAzB,iBAAA,uBAAhBA,iBAAA,CAAkB0B;MAAO;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC9D;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACQ,CAAC;AAErB;AAACzB,EAAA,CAjDQF,OAAO;EAAA,QAYgBH,aAAa;AAAA;AAAAiC,EAAA,GAZpC9B,OAAO;AAmDhB,eAAeA,OAAO;AAAC,IAAA8B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}