{"ast":null,"code":"var _s = $RefreshSig$();\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport omit from 'lodash/omit';\nimport { useForm } from 'react-hook-form';\nimport { createSearchParams, useNavigate } from 'react-router-dom';\nimport { path } from 'src/constants/path';\nimport { schema } from 'src/utils/rules';\nimport useQueryConfig from './useQueryConfig';\nconst searchSchema = schema.pick(['searchName']);\nexport default function useSearchProduct() {\n  _s();\n  const navigate = useNavigate();\n  const queryConfig = useQueryConfig();\n  const {\n    handleSubmit,\n    register\n  } = useForm({\n    values: {\n      searchName: queryConfig.name || ''\n    },\n    resolver: yupResolver(searchSchema)\n  });\n  const handleSearchName = handleSubmit(data => {\n    const {\n      searchName\n    } = data;\n    const query = queryConfig.order ? omit({\n      ...queryConfig,\n      page: '1',\n      name: searchName\n    }, ['order', 'sort_by']) : {\n      ...queryConfig,\n      page: '1',\n      name: searchName\n    };\n    navigate({\n      pathname: path.home,\n      search: createSearchParams(query).toString()\n    });\n  });\n  return {\n    handleSearchName,\n    register\n  };\n}\n_s(useSearchProduct, \"A6IoyLS/xkqPMm0MSDR5aaDAL/k=\", false, function () {\n  return [useNavigate, useQueryConfig, useForm];\n});","map":{"version":3,"names":["yupResolver","omit","useForm","createSearchParams","useNavigate","path","schema","useQueryConfig","searchSchema","pick","useSearchProduct","_s","navigate","queryConfig","handleSubmit","register","values","searchName","name","resolver","handleSearchName","data","query","order","page","pathname","home","search","toString"],"sources":["/Volumes/MAC_Quandev03/Code/JS/ShopeeClone/ShopeeClone/src/hooks/useSearchProduct.tsx"],"sourcesContent":["import { yupResolver } from '@hookform/resolvers/yup';\nimport omit from 'lodash/omit';\nimport { useForm } from 'react-hook-form';\nimport { createSearchParams, useNavigate } from 'react-router-dom';\nimport { path } from 'src/constants/path';\nimport { Schema, schema } from 'src/utils/rules';\nimport useQueryConfig from './useQueryConfig';\n\ntype FormData = Pick<Schema, 'searchName'>;\nconst searchSchema = schema.pick(['searchName']);\n\nexport default function useSearchProduct() {\n  const navigate = useNavigate();\n  const queryConfig = useQueryConfig();\n  const { handleSubmit, register } = useForm<FormData>({\n    values: {\n      searchName: queryConfig.name || ''\n    },\n    resolver: yupResolver(searchSchema)\n  });\n\n  const handleSearchName = handleSubmit((data) => {\n    const { searchName } = data;\n\n    const query = queryConfig.order\n      ? omit(\n          {\n            ...queryConfig,\n            page: '1',\n            name: searchName\n          },\n          ['order', 'sort_by']\n        )\n      : {\n          ...queryConfig,\n          page: '1',\n          name: searchName\n        };\n\n    navigate({\n      pathname: path.home,\n      search: createSearchParams(query).toString()\n    });\n  });\n\n  return { handleSearchName, register };\n}\n"],"mappings":";AAAA,SAASA,WAAW,QAAQ,yBAAyB;AACrD,OAAOC,IAAI,MAAM,aAAa;AAC9B,SAASC,OAAO,QAAQ,iBAAiB;AACzC,SAASC,kBAAkB,EAAEC,WAAW,QAAQ,kBAAkB;AAClE,SAASC,IAAI,QAAQ,oBAAoB;AACzC,SAAiBC,MAAM,QAAQ,iBAAiB;AAChD,OAAOC,cAAc,MAAM,kBAAkB;AAG7C,MAAMC,YAAY,GAAGF,MAAM,CAACG,IAAI,CAAC,CAAC,YAAY,CAAC,CAAC;AAEhD,eAAe,SAASC,gBAAgBA,CAAA,EAAG;EAAAC,EAAA;EACzC,MAAMC,QAAQ,GAAGR,WAAW,CAAC,CAAC;EAC9B,MAAMS,WAAW,GAAGN,cAAc,CAAC,CAAC;EACpC,MAAM;IAAEO,YAAY;IAAEC;EAAS,CAAC,GAAGb,OAAO,CAAW;IACnDc,MAAM,EAAE;MACNC,UAAU,EAAEJ,WAAW,CAACK,IAAI,IAAI;IAClC,CAAC;IACDC,QAAQ,EAAEnB,WAAW,CAACQ,YAAY;EACpC,CAAC,CAAC;EAEF,MAAMY,gBAAgB,GAAGN,YAAY,CAAEO,IAAI,IAAK;IAC9C,MAAM;MAAEJ;IAAW,CAAC,GAAGI,IAAI;IAE3B,MAAMC,KAAK,GAAGT,WAAW,CAACU,KAAK,GAC3BtB,IAAI,CACF;MACE,GAAGY,WAAW;MACdW,IAAI,EAAE,GAAG;MACTN,IAAI,EAAED;IACR,CAAC,EACD,CAAC,OAAO,EAAE,SAAS,CACrB,CAAC,GACD;MACE,GAAGJ,WAAW;MACdW,IAAI,EAAE,GAAG;MACTN,IAAI,EAAED;IACR,CAAC;IAELL,QAAQ,CAAC;MACPa,QAAQ,EAAEpB,IAAI,CAACqB,IAAI;MACnBC,MAAM,EAAExB,kBAAkB,CAACmB,KAAK,CAAC,CAACM,QAAQ,CAAC;IAC7C,CAAC,CAAC;EACJ,CAAC,CAAC;EAEF,OAAO;IAAER,gBAAgB;IAAEL;EAAS,CAAC;AACvC;AAACJ,EAAA,CAnCuBD,gBAAgB;EAAA,QACrBN,WAAW,EACRG,cAAc,EACCL,OAAO;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}